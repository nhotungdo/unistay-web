@model Unistay_Web.Models.User.UserProfile
@{
    ViewData["Title"] = "Chỉnh sửa hồ sơ";
}

<div class="container py-5">
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-12 col-md-8 col-lg-6">
            <div class="glass-panel p-4 p-md-5 animate-scale-in">
                <div class="mb-4 text-center">
                    <h4 class="mb-1 font-weight-bold">Chỉnh sửa thông tin cá nhân</h4>
                    <p class="text-muted small">Cập nhật thông tin hồ sơ của bạn</p>
                </div>
                
                @if (TempData["ErrorMessage"] != null)
                {
                    <div class="alert alert-danger alert-dismissible fade show mb-4" role="alert">
                        @TempData["ErrorMessage"]
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                }

                <form method="post" class="needs-validation">
                    @Html.AntiForgeryToken()

                    <div class="mb-3">
                        <label for="fullName" class="text-muted small font-weight-bold mb-1 d-block">Tên đầy đủ <span class="text-danger">*</span></label>
                        <input type="text" class="form-input" id="fullName" name="fullName" value="@Model.FullName" required>
                        <span asp-validation-for="FullName" class="text-danger small"></span>
                    </div>

                    <div class="mb-3">
                        <label for="phoneNumber" class="text-muted small font-weight-bold mb-1 d-block">Số điện thoại</label>
                        <input type="tel" class="form-input" id="phoneNumber" name="phoneNumber" value="@Model.PhoneNumber" placeholder="Nhập số điện thoại">
                    </div>

                    <div class="mb-3">
                        <label for="gender" class="text-muted small font-weight-bold mb-1 d-block">Giới tính</label>
                        <select class="form-input" id="gender" name="gender">
                            <option value="">-- Chọn giới tính --</option>
                            <option value="Male" selected="@(Model.Gender == "Male")">Nam</option>
                            <option value="Female" selected="@(Model.Gender == "Female")">Nữ</option>
                            <option value="Other" selected="@(Model.Gender == "Other")">Khác</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="age" class="text-muted small font-weight-bold mb-1 d-block">Tuổi</label>
                        <input type="number" class="form-input" id="age" name="age" value="@Model.Age" min="13" max="120">
                    </div>

                    <div class="mb-3">
                        <label for="occupation" class="text-muted small font-weight-bold mb-1 d-block">Nghề nghiệp</label>
                        <input type="text" class="form-input" id="occupation" name="occupation" value="@Model.Occupation" placeholder="Ví dụ: Lập trình viên, Sinh viên...">
                    </div>

                    <div class="mb-3">
                        <label for="bio" class="text-muted small font-weight-bold mb-1 d-block">Giới thiệu bản thân</label>
                        <textarea class="form-input" id="bio" name="bio" rows="3" placeholder="Viết về bản thân bạn...">@Model.Bio</textarea>
                    </div>

                    <hr class="my-4 border-glass opacity-50">

                    <h5 class="mb-3 font-weight-bold text-primary">Thông tin tìm trọ</h5>

                    <div class="mb-3">
                        <label for="city" class="text-muted small font-weight-bold mb-1 d-block">Thành phố</label>
                        <input type="text" class="form-input" id="city" name="city" value="@Model.City" placeholder="Nhập thành phố">
                    </div>

                    <div class="mb-3">
                        <label for="district" class="text-muted small font-weight-bold mb-1 d-block">Quận/Huyện</label>
                        <input type="text" class="form-input" id="district" name="district" value="@Model.District" placeholder="Nhập quận/huyện">
                    </div>

                    <div class="mb-3">
                        <label for="ward" class="text-muted small font-weight-bold mb-1 d-block">Phường/Xã</label>
                        <input type="text" class="form-input" id="ward" name="ward" value="@Model.Ward" placeholder="Nhập phường/xã">
                    </div>

                    <div class="mb-3">
                        <label for="livingArea" class="text-muted small font-weight-bold mb-1 d-block">Khu vực sinh sống</label>
                        <input type="text" class="form-input" id="livingArea" name="livingArea" value="@Model.LivingArea" placeholder="Ví dụ: Quanh khu vực Bến Thành...">
                    </div>

                    <div class="mb-3">
                        <label for="budget" class="text-muted small font-weight-bold mb-1 d-block">Ngân sách thuê trọ (VNĐ/tháng)</label>
                        <input type="number" class="form-input" id="budget" name="budget" value="@Model.Budget" step="100000" placeholder="Nhập ngân sách">
                    </div>

                    <div class="mb-3">
                        <label for="lifestyle" class="text-muted small font-weight-bold mb-1 d-block">Lối sống / Thói quen</label>
                        <textarea class="form-input" id="lifestyle" name="lifestyle" rows="3" placeholder="Ví dụ: Ngủ sớm, không hút thuốc, nuôi thú...">@Model.Lifestyle</textarea>
                    </div>

                    <div class="mb-3">
                        <label for="expectedStayDuration" class="text-muted small font-weight-bold mb-1 d-block">Thời gian ở dự kiến</label>
                        <input type="date" class="form-input" id="expectedStayDuration" name="expectedStayDuration" value="@Model.ExpectedStayDuration?.ToString("yyyy-MM-dd")">
                    </div>

                    <div class="d-grid gap-2 mt-4">
                        <button type="submit" class="btn btn-primary py-3">Lưu thay đổi</button>
                        <a href="@Url.Action("Index", "Profile")" class="btn btn-outline py-2 border-0">Hủy bỏ</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
</div>