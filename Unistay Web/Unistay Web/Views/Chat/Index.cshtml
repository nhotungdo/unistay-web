@{
    ViewData["Title"] = "Tin nhắn";
}

<section class="py-4" style="height: calc(100vh - 80px); overflow:hidden;">
    <div class="container h-100">
        <div class="glass-panel h-100 d-flex overflow-hidden p-0">
            <!-- Sidebar -->
            <div class="d-flex flex-column bg-surface border-right" style="width: 320px; border-right: 1px solid var(--border-glass);">
                <div class="p-4 border-bottom" style="border-bottom: 1px solid var(--border-glass);">
                    <h2 class="h5 mb-3 font-weight-bold">Tin nhắn</h2>
                    <div class="position-relative">
                        <input type="text" class="form-input" placeholder="Tìm kiếm..." style="padding-left: 2.5rem; height: 42px;" />
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" class="text-muted" style="position: absolute; left: 12px; top: 11px;">
                            <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"></circle>
                            <line x1="21" y1="21" x2="16.65" y2="16.65" stroke="currentColor" stroke-width="2"></line>
                        </svg>
                    </div>
                </div>
                
                <div class="flex-1 overflow-auto p-2" style="scrollbar-width: thin;">
                    <!-- User Item (Active) -->
                    <div class="p-3 rounded-lg cursor-pointer mb-2 animate-fade-in" style="background: rgba(99, 102, 241, 0.1);">
                        <div class="d-flex align-center gap-3">
                            <div class="position-relative">
                                <img src="https://ui-avatars.com/api/?name=Nguyen+Van+A&background=random" class="rounded-circle" width="48" height="48" alt="Avatar">
                                <span class="position-absolute bottom-0 right-0 w-3 h-3 bg-success border border-2 border-white rounded-circle" style="width:12px; height:12px;"></span>
                            </div>
                            <div class="flex-1 min-w-0">
                                <div class="d-flex justify-between align-baseline mb-1">
                                    <h6 class="mb-0 text-truncate font-weight-bold" style="font-size:0.95rem;">Nguyễn Văn A</h6>
                                    <small class="text-primary font-weight-bold" style="font-size:0.75rem;">2m</small>
                                </div>
                                <p class="mb-0 text-truncate text-muted small font-weight-medium">Phòng còn trống không bạn?</p>
                            </div>
                        </div>
                    </div>

                    <!-- User Item -->
                    <div class="p-3 rounded-lg hover-bg-light cursor-pointer mb-2 animate-fade-in" style="animation-delay: 0.1s; transition: background 0.2s;">
                         <div class="d-flex align-center gap-3">
                            <div class="position-relative">
                                <img src="https://ui-avatars.com/api/?name=Tran+Thi+B&background=random" class="rounded-circle" width="48" height="48" alt="Avatar">
                                <span class="position-absolute bottom-0 right-0 bg-secondary border border-2 border-white rounded-circle" style="width:12px; height:12px; background-color: #94a3b8;"></span>
                            </div>
                             <div class="flex-1 min-w-0">
                                <div class="d-flex justify-between align-baseline mb-1">
                                    <h6 class="mb-0 text-truncate" style="font-size:0.95rem;">Trần Thị B</h6>
                                    <small class="text-muted" style="font-size:0.75rem;">1h</small>
                                </div>
                                <p class="mb-0 text-truncate text-muted small">Cảm ơn bạn nhé!</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chat Area -->
            <div class="flex-1 d-flex flex-column position-relative" style="background: rgba(255,255,255,0.4);">
                <!-- Chat Empty State -->
                <div class="d-flex flex-column align-center justify-center h-100 text-center p-5">
                    <div class="rounded-circle d-flex align-center justify-center mb-4" style="width: 80px; height: 80px; background: rgba(99, 102, 241, 0.1); color: var(--primary-600);">
                        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                             <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                        </svg>
                    </div>
                    <h3 class="h4 mb-2">Chào mừng đến với tin nhắn</h3>
                    <p class="text-muted mb-4" style="max-width: 400px;">Hãy chọn một cuộc trò chuyện từ danh sách bên trái để bắt đầu nhắn tin với chủ trọ hoặc người tìm phòng.</p>
                    <a href="/Rooms" class="btn btn-primary">Khám phá phòng trọ ngay</a>
                </div>
            </div>
        </div>
    </div>
</section>
