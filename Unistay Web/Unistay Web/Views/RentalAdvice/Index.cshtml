@model List<Unistay_Web.Models.Room.Room>

@{
    ViewData["Title"] = "Góc Tư Vấn";
}

<div class="container py-5">
    <!-- Hero Section with AI Greeting -->
    <div class="glass-card p-5 mb-5 text-center">
        <h1 class="display-4 fw-bold mb-3">
            <span class="text-gradient">Chuyên Gia Thuê Nhà AI</span>
        </h1>
        <p class="lead text-muted mb-4">
            @ViewBag.AIAdvice
        </p>
        <div class="d-flex justify-content-center gap-3">
            <a asp-action="Chat" class="btn btn-primary btn-lg">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="me-2"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></svg>
                Chat Với AI
            </a>
            <a asp-action="Neighborhoods" class="btn btn-outline-primary btn-lg">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="me-2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
                Khám Phá Khu Vực
            </a>
        </div>
    </div>

    <div class="row g-4 mb-5">
        <!-- Feature Cards -->
        <div class="col-md-4">
            <div class="glass-card h-100 p-4 hover-lift">
                <div class="icon-box bg-purple-light text-purple mb-3">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                </div>
                <h3>Phân Tích Giá</h3>
                <p class="text-muted">Biểu đồ biến động giá và thời điểm thuê tốt nhất cho từng khu vực.</p>
                <a asp-action="PriceAnalysis" class="btn btn-link px-0 text-primary">Xem chi tiết &rarr;</a>
            </div>
        </div>
        <div class="col-md-4">
            <div class="glass-card h-100 p-4 hover-lift">
                 <div class="icon-box bg-warning-light text-warning mb-3">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0zM12 9v4m0 4h.01"/></svg>
                </div>
                <h3>Check Uy Tín</h3>
                <p class="text-muted">Hệ thống phát hiện rủi ro và cảnh báo lừa đảo dựa trên dữ liệu lớn.</p>
                <a href="#" class="btn btn-link px-0 text-primary">Kiểm tra ngay &rarr;</a>
            </div>
        </div>
        <div class="col-md-4">
             <div class="glass-card h-100 p-4 hover-lift">
                <div class="icon-box bg-success-light text-success mb-3">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="9" y1="3" x2="9" y2="21"/></svg>
                </div>
                <h3>So Sánh Phòng</h3>
                <p class="text-muted">So sánh chi tiết các lựa chọn của bạn: tiện ích, giá, và an ninh.</p>
                <a href="#" class="btn btn-link px-0 text-primary">Bắt đầu so sánh &rarr;</a>
            </div>
        </div>
    </div>

    <!-- Suggested Rooms -->
    <h2 class="fw-bold mb-4">Gợi Ý Cho Bạn</h2>
    <div class="row g-4">
        @if (Model != null)
        {
            foreach (var room in Model)
            {
                <div class="col-md-4">
                    <div class="glass-card p-0 overflow-hidden h-100">
                        <div class="position-relative">
                            <img src="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?ixlib=rb-4.0.3&auto=format&fit=crop&w=2340&q=80" 
                                 class="w-100" style="height: 200px; object-fit: cover;" alt="@room.Title">
                            <span class="badge bg-primary position-absolute top-0 end-0 m-3">
                                @room.Price.ToString("N0") VNĐ
                            </span>
                        </div>
                        <div class="p-4">
                            <h5 class="fw-bold mb-2">@room.Title</h5>
                            <p class="text-muted small mb-3">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="me-1"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
                                @room.Address
                            </p>
                            <div class="d-flex justify-content-between align-items-center mt-3">
                                <a asp-controller="Rooms" asp-action="Details" asp-route-id="@room.Id" class="btn btn-sm btn-outline-primary">Xem Ngay</a>
                                <a asp-action="RiskAnalysis" asp-route-id="@room.Id" class="btn btn-sm btn-light text-danger" title="Check Risk">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            }
        }
    </div>
</div>

<style>
.icon-box {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}
.bg-purple-light { background: rgba(139, 92, 246, 0.1); }
.text-purple { color: #8b5cf6; }
.bg-warning-light { background: rgba(245, 158, 11, 0.1); }
.text-warning { color: #f59e0b; }
.bg-success-light { background: rgba(16, 185, 129, 0.1); }
.text-success { color: #10b981; }

.hover-lift {
    transition: transform 0.2s, box-shadow 0.2s;
}
.hover-lift:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}
</style>
